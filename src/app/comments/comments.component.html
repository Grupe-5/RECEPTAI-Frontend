<div class="comments-wrap">
    <div class="row">
        <h2 class="heading-secondary">
            <span class="comments-wrap__heading">
                Comments
            </span>
        </h2>
    </div>
    
    <div class="row comments-wrap__topinfo">
        <div class="col-6 comments-wrap__topinfo-com-count">
            <p>{{getCommentsCountText()}}</p>
        </div>

        <div class="col-6">
            <div class="row justify-content-md-end">
                <div class="col-6 pe-0 comments-wrap__topinfo-sortby">Sort by:</div>
                <div class="form-group comments-wrap__topinfo-sort ">
                    <select (change)="selectChange($event)" class="form-select custom-select-lg mb-3 highlight">
                        <!-- TODO: make this in ngFor and proper selectChange -->
                        <option class="not-highlight" selected value="Best">Best</option>
                        <option class="not-highlight" value="Newest">Newest</option>
                    </select>      
                </div>  
            </div>
        </div>
    </div>
    
    <div class="comments-wrap__comments-section p-5">
        <form [formGroup]="commentForm" (ngSubmit)="onComment()">
            <div class="row mt-3">
                <div class="col-12 comments-wrap__comments-section-write">
                    <input id="commentText" formControlName="commentText" type="text" placeholder="Write a comment">
                </div>
            </div>

            <div class="row mt-5 justify-content-md-end">
                <div class="btn-wrap">
                    <button type="submit" [disabled]="commentForm.invalid" class="button button--grey">Post</button>
                </div>
            </div>
        </form>
        <div class="row mt-3">
            <div *ngFor="let comment of comments">
                <app-comment [comment]="comment"></app-comment>
            </div>
        </div>
    </div>
</div>